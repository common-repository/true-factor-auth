function tfaRegTelConfirmationSubmitForm(t){var n=t.target,e="tfa_reg_tel";if(n.dataset[e])return!0;t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var a=n.querySelector("input[name="+n.dataset.tfaTelInput+"]");a||(a=tfaAddHidden(n,n.dataset.tfaTelInput));var o={onLoad:function(t){var e=t.find("form");e.on("submit",function(t){t.preventDefault(),jQuery.ajax({url:e.attr("action"),method:e.attr("method"),data:e.serialize(),dataType:"json",success:function(t){o.onSuccess(t)}})});var a=n.querySelector("[type=submit]");a&&a.getAttribute("disabled")&&a.removeAttribute("disabled")},onSuccess:function(t){t.error?tfaShowError(t.error):t.tel&&(a.value=t.tel,n.dataset[e]=t.tel,HTMLFormElement.prototype.submit.call(n))}};return tfaLoadPopup({data:{action:"tfa_reg_confirm_phone_number",tel:a.value}},o),!1}jQuery,window.tfaInitRegTelConfirmation||(window.tfaInitRegTelConfirmation=function(t){if(tfa_reg_tel_confirmation&&tfa_reg_tel_confirmation.selectors)for(var e=tfa_reg_tel_confirmation.selectors.split("\n");e.length;){var a=e.splice(0,3),n=t[0].querySelector(a[0]);n&&(n.dataset.tfaTelInput=a[1],n.setAttribute("onsubmit","tfaRegTelConfirmationSubmitForm(event)"))}},window.tfaInitCallbacks||(window.tfaInitCallbacks=[]),tfaInitCallbacks.push(tfaInitRegTelConfirmation));